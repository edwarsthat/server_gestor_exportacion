# üöÄ Cambios en el Sistema

**√Årea responsable:** Proyectos y Transformaci√≥n Digital  

---

## üéØ Objetivo General

Fortalecer la robustez del sistema migrando procesos cr√≠ticos a la base de datos MongoDB con transacciones ACID, implementar controles de versiones y trazabilidad, y ampliar la cobertura funcional en m√≥dulos de inventarios, calidad y clientes.

---

## ‚≠ê Cambios Destacados

### 1. Vista de Trazabilidad de Lotes 
- Implementaci√≥n de una vista que permite consultar los registros de movimientos de un lote espec√≠fico.  
- Ajustes en el esquema **auditLogs** para registrar √∫nicamente modificaciones e ingresos de Lotes.  
- Desarrollo de la vista que muestra movimientos en orden cronol√≥gico y con fechas bajo formato ISO. :contentReference[oaicite:4]{index=4}

---

### 2. Inventario de Cuartos Fr√≠os
- Creaci√≥n del esquema de cuartos fr√≠os en base de datos.  
- Middleware adicional para registrar ingresos y egresos de cajas.  
- Desarrollo de endpoints REST para gesti√≥n de inventario en cuartos fr√≠os.  
- Integraci√≥n de la lista de empaque con opci√≥n de enviar √≠tems a cuartos fr√≠os.  
- Desarrollo de vista de inventario en **aplicaci√≥n de escritorio** y ajustes en **aplicaci√≥n m√≥vil**.  
- Migraci√≥n de la base de datos a configuraci√≥n **Replica Set**, fortaleciendo confiabilidad y tolerancia a fallos. :contentReference[oaicite:5]{index=5}:contentReference[oaicite:6]{index=6}

---

### 3. Modificaci√≥n del Inventario de Fruta sin Procesar
- Creaci√≥n de un **nuevo esquema de Inventarios Simples** en MongoDB.  
- Migraci√≥n desde archivo JSON a documento estructurado en base de datos.  
- Actualizaci√≥n de m√©todos de:
  - Ingreso de fruta  
  - Directo nacional  
  - Env√≠o a desverdizado  
  - Orden de vaceo  
- Todas las operaciones ahora se ejecutan con **transacciones ACID**. :contentReference[oaicite:7]{index=7}

---

### 4. Ajustes en Proceso de Orden de Vaceo
- Redise√±o del proceso para trabajar sobre **Inventarios Simples en DB**.  
- Eliminaci√≥n de dependencias con archivos JSON.  
- Sincronizaci√≥n garantizada con inventario de fruta sin procesar. :contentReference[oaicite:8]{index=8}

---

### 5. Implementaci√≥n de Control de Versiones
- Control de versiones en inventario de fruta sin procesar y orden de vaceo.  
- Prevenci√≥n de actualizaciones sobre datos obsoletos o inexistentes.  
- Correcci√≥n de error donde quedaban elementos no v√°lidos en inventario. :contentReference[oaicite:9]{index=9}

---

### 6. Reportes de Calidad y Esquema de Fruta
- Ajuste de informes de calidad‚Äìcontabilidad con nuevo **c√≥digo de fruta por calidad**.  
- Migraci√≥n del esquema de fruta a la misma base de datos que los dem√°s m√≥dulos para facilitar integraci√≥n. :contentReference[oaicite:10]{index=10}

---

### 7. Registro de Movimientos de Inventario
- Creaci√≥n de esquema y middleware para registrar **ingresos y egresos** de inventario.  
- Aplicado a:
  - Inventario de fruta sin procesar  
  - Orden de vaceo  
- Historial completo y auditable para auditor√≠as internas y externas. :contentReference[oaicite:11]{index=11}

---

### 8. Correcci√≥n en Ingreso de Clientes Nacionales
- Correcci√≥n de vista de ingreso de clientes nacionales para mejorar la captura de datos.  
- Ajuste de m√©todos de backend relacionados al registro.  
- Creaci√≥n de elemento en colecci√≥n **seriales** con identificador **CN**.  
- M√©todos para generaci√≥n autom√°tica de c√≥digos con prefijo **CN** e incremento del consecutivo. :contentReference[oaicite:12]{index=12}

---

## ‚ú® Beneficios Obtenidos

| Aspecto | Mejora |
|---------|--------|
| **Consistencia** | Operaciones cr√≠ticas con transacciones ACID |
| **Trazabilidad** | Control de versiones y registros de ingresos/egresos |
| **Escalabilidad** | Migraci√≥n de esquemas a MongoDB con Replica Set |
| **Eficiencia** | Eliminaci√≥n de dependencias con archivos JSON |
| **Calidad de datos** | C√≥digos de fruta por calidad y clientes nacionales con serial √∫nico |

---

## üë• Responsables y Colaboradores

- **Liderazgo t√©cnico:** Ing. Edwar Stheven Ariza Torres ‚Äì Proyectos y Transformaci√≥n Digital  
- **Colaboraci√≥n:** Equipos de Calidad, Contabilidad, Abastecimiento y Desarrollo de Software  

---
