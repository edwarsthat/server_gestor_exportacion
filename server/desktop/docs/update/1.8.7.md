# üöÄ Cambios en el Sistema ‚Äì Versi√≥n 1.8.7

**√Årea responsable:** Proyectos y Transformaci√≥n Digital  
**Liderazgo t√©cnico:** Ing. Edwar Stheven Ariza Torres  
**Coordinaci√≥n de proyectos:** Ing. Jefferson ‚Äî Coordinador de Proyectos  

---

## üéØ Objetivo General

Optimizar la estructura de datos del sistema operativo mediante la **normalizaci√≥n de esquemas clave**, mejorando la trazabilidad, mantenibilidad y eficiencia en consultas relacionadas con **contenedores, listas de empaque, transporte y costos**.  
Se implementaron migraciones autom√°ticas para preservar la integridad hist√≥rica de los datos y se ampliaron funcionalidades del servidor para la generaci√≥n de documentos.

---

## ‚≠ê Cambios Destacados

### 1. Normalizaci√≥n de Listas de Empaque y Contenedores
- Se **modific√≥ completamente el esquema de contenedores**.  
- Se **normaliz√≥ la lista de empaque**, dividiendo la informaci√≥n de **pallets** y **cajas** en colecciones independientes.  
- Esta normalizaci√≥n implic√≥ ajustes en todas las vistas que depend√≠an del modelo anterior:
  - **Lista de Empaque (web y app m√≥vil)**
  - **Contenedores**
  - **Informes de Calidad**
  - **Informes Contables**
  - **Costos por Contenedor**
  - **Indicadores y dashboards**
- Se crearon dos **scripts de migraci√≥n**:
  1. Para adaptar la estructura de **Lotes**.
  2. Para generar las nuevas colecciones de **Pallets** y **Cajas**.
- Se implement√≥ validaci√≥n de integridad para asegurar la correspondencia entre contenedor, pallets y cajas.

---

### 2. Normalizaci√≥n de Tipos de Fruta y Creaci√≥n de la Colecci√≥n ‚ÄúCalidades‚Äù
- Se cre√≥ la nueva colecci√≥n **calidades**, donde se centraliza la informaci√≥n sobre los tipos y subtipos de fruta.  
- Se actualizaron los esquemas dependientes (informes, lotes, contenedores) para utilizar referencias directas a esta colecci√≥n.  
- Mejora la estandarizaci√≥n y reduce redundancias en los reportes de calidad y contabilidad.

---

### 3. Migraci√≥n y Ajustes en Procesos Dependientes
- Se modificaron los m√≥dulos:
  - **Informe de Proveedores**
  - **Lotes**
  - **Ingreso de Descarte**
  - **Finalizado de Producci√≥n**
  - **Finalizado de Contabilidad**
- Todos estos procesos ahora consumen los datos normalizados de las nuevas colecciones, garantizando coherencia con los contenedores y listas de empaque.

---

### 4. Historial de Ingreso de Fruta
- Se corrigi√≥ el **historial de ingreso de fruta**, garantizando que los registros sean completos y sin duplicidades.  
- Se mejor√≥ la visualizaci√≥n cronol√≥gica y se ajust√≥ la captura de eventos en tiempo real.

---

### 5. Vista de Costos por Contenedor
- Se actualiz√≥ la vista de **Costos por Contenedor** para reflejar correctamente la nueva estructura de datos.  
- Los c√°lculos ahora consideran los costos de pallets y cajas de forma independiente.  
- Mejora en el rendimiento y precisi√≥n del c√°lculo de costos unitarios.

---

### 6. Redise√±o del Esquema de Transporte
- Se redise√±√≥ completamente el m√≥dulo de transporte.  
- Se cre√≥ el **nuevo m√≥dulo de Salida de Carros**, que permite:
  - Registrar y controlar salidas de camiones y tractomulas.  
  - Generar documentos de salida directamente desde el servidor.  
- Se agreg√≥ la funci√≥n para **generar el documento de salida** tanto para camiones como para tractomulas en formato digital (PDF) desde backend.  
- Mejora la trazabilidad log√≠stica y la integraci√≥n con el m√≥dulo de contenedores.

---

### 7. Generaci√≥n de Documentos desde el Servidor
- Se modific√≥ la **Lista de Empaque** para que los documentos se generen directamente desde el servidor.  
- Se unificaron las plantillas y formatos de salida, garantizando coherencia visual y trazabilidad documental.

---

## ‚ú® Beneficios Obtenidos

| Aspecto | Mejora |
|----------|--------|
| **Integridad de datos** | Normalizaci√≥n de colecciones clave y scripts de migraci√≥n controlada |
| **Trazabilidad** | Nuevos historiales y generaci√≥n centralizada de documentos |
| **Eficiencia** | Consultas m√°s ligeras y mayor velocidad en vistas dependientes |
| **Escalabilidad** | Esquemas independientes y modulares (pallets, cajas, calidades, transporte) |
| **Automatizaci√≥n** | Migraciones autom√°ticas y generaci√≥n de documentos en servidor |

---

## üë• Responsables y Colaboradores

- **Liderazgo t√©cnico:** Ing. Edwar Stheven Ariza Torres ‚Äì Proyectos y Transformaci√≥n Digital  
- **Coordinaci√≥n de proyectos:** Ing. Jefferson ‚Äì Coordinador de Proyectos  
- **Colaboraci√≥n:** Equipos de Calidad, Contabilidad, Producci√≥n, Abastecimiento y Desarrollo  

---
